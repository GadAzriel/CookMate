{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';// Function to dynamically import an image of a specified recipe\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const importAll=r=>{let images={};r.keys().forEach((item,index)=>{images[item.replace('./','')]=r(item);});return images;};const images=importAll(require.context('../assets/Recipes_images',false,/\\.(png|jpe?g|svg)$/));// Defining the RecipeDetail component, which displays detailed information about a specific recipe\nfunction RecipeDetail(){const{name}=useParams();const[recipe,setRecipe]=useState(null);const[numberOfDishes,setNumberOfDishes]=useState(1);//useEffect hook to fetch recipe data from the server for specified recipe\nuseEffect(()=>{axios.get(\"http://localhost:5000/recipes\").then(response=>{const foundRecipe=response.data.find(r=>r.name===name);setRecipe(foundRecipe);console.log('Recipe fetched:',foundRecipe);}).catch(error=>{console.error('There was an error fetching the recipe!',error);});},[name]);// For update the number of dishes\nconst handleNumberOfDishesChange=event=>{setNumberOfDishes(parseInt(event.target.value));};// Return loading message if recipe data is not yet loaded\nif(!recipe){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}// Formatting the ingredients list to adjust quantities based on the number of dishes\nconst formatIngredients=()=>{return recipe.ingredients.map((ingredient,index)=>/*#__PURE__*/_jsx(\"li\",{children:\"\".concat((recipe.amounts[index]*numberOfDishes).toFixed(2),\" \").concat(ingredient)},index));};// Formatting the instructions list\nconst formatInstructions=()=>{return recipe.instructions.map((instruction,index)=>/*#__PURE__*/_jsx(\"li\",{children:instruction},index));};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen py-8 bg-gray-100 text-gray-800\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center md:items-start bg-white rounded-lg shadow-lg overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/2 p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4 text-blue-800\",children:recipe.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"numberOfDishes\",className:\"block text-lg font-bold mb-2\",children:\"Number of Dishes:\"}),/*#__PURE__*/_jsx(\"select\",{id:\"numberOfDishes\",className:\"border rounded-lg p-1 w-20\",value:numberOfDishes,onChange:handleNumberOfDishesChange,children:[...Array(10).keys()].map(i=>/*#__PURE__*/ //Mapping each number to an option element\n_jsx(\"option\",{value:i+1,children:i+1},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left max-h-96 overflow-y-auto pr-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Allergies:\"}),\" \",recipe.allergies]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Difficulty:\"}),\" \",recipe.difficulty]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Ingredients:\"})}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside mb-4\",children:formatIngredients()}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Instructions:\"})}),/*#__PURE__*/_jsx(\"ol\",{className:\"list-decimal list-inside mb-4\",children:formatInstructions()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/recipes/\".concat(recipe.name,\"/steps\"),className:\"bg-gray-500 text-white text-center py-2 px-6 rounded-full hover:bg-gray-700 transition duration-300\",children:\"Cook by Steps\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:w-1/2 flex items-center justify-center p-8\",children:/*#__PURE__*/_jsx(\"img\",{src:images[\"\".concat(recipe.name,\".jpg\")],alt:recipe.name,className:\"w-full h-auto object-cover rounded-lg shadow-md\"})})]})})});}export default RecipeDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","axios","jsx","_jsx","jsxs","_jsxs","importAll","r","images","keys","forEach","item","index","replace","require","context","RecipeDetail","name","recipe","setRecipe","numberOfDishes","setNumberOfDishes","get","then","response","foundRecipe","data","find","console","log","catch","error","handleNumberOfDishesChange","event","parseInt","target","value","children","formatIngredients","ingredients","map","ingredient","concat","amounts","toFixed","formatInstructions","instructions","instruction","className","htmlFor","id","onChange","Array","i","allergies","difficulty","to","src","alt"],"sources":["C:/Users/gadaz/Desktop/New folder/CookMate/frontend/src/components/RecipeDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n// Function to dynamically import an image of a specified recipe\r\nconst importAll = (r) => {\r\n  let images = {};\r\n  r.keys().forEach((item, index) => { images[item.replace('./', '')] = r(item); });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(require.context('../assets/Recipes_images', false, /\\.(png|jpe?g|svg)$/));\r\n\r\n// Defining the RecipeDetail component, which displays detailed information about a specific recipe\r\nfunction RecipeDetail() {\r\n  const { name } = useParams();\r\n  const [recipe, setRecipe] = useState(null);\r\n  const [numberOfDishes, setNumberOfDishes] = useState(1);\r\n\r\n   //useEffect hook to fetch recipe data from the server for specified recipe\r\n  useEffect(() => {\r\n    axios.get(`http://localhost:5000/recipes`)\r\n      .then(response => {\r\n        const foundRecipe = response.data.find(r => r.name === name);\r\n        setRecipe(foundRecipe);\r\n        console.log('Recipe fetched:', foundRecipe);\r\n      })\r\n      .catch(error => {\r\n        console.error('There was an error fetching the recipe!', error);\r\n      });\r\n  }, [name]);\r\n\r\n   // For update the number of dishes\r\n  const handleNumberOfDishesChange = (event) => {\r\n    setNumberOfDishes(parseInt(event.target.value));\r\n  };\r\n\r\n  // Return loading message if recipe data is not yet loaded\r\n  if (!recipe) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  // Formatting the ingredients list to adjust quantities based on the number of dishes\r\n  const formatIngredients = () => {\r\n    return recipe.ingredients.map((ingredient, index) => (\r\n      <li key={index}>{`${(recipe.amounts[index] * numberOfDishes).toFixed(2)} ${ingredient}`}</li>\r\n    ));\r\n  };\r\n\r\n   // Formatting the instructions list\r\n  const formatInstructions = () => {\r\n    return recipe.instructions.map((instruction, index) => (\r\n      <li key={index}>{instruction}</li>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen py-8 bg-gray-100 text-gray-800\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"flex flex-col md:flex-row items-center md:items-start bg-white rounded-lg shadow-lg overflow-hidden\">\r\n          <div className=\"md:w-1/2 p-8\">\r\n            <h2 className=\"text-3xl font-bold mb-4 text-blue-800\">{recipe.name}</h2>\r\n            <div className=\"mb-4\">\r\n              <label htmlFor=\"numberOfDishes\" className=\"block text-lg font-bold mb-2\">Number of Dishes:</label>\r\n              <select id=\"numberOfDishes\" className=\"border rounded-lg p-1 w-20\" value={numberOfDishes} onChange={handleNumberOfDishesChange}>\r\n                {[...Array(10).keys()].map(i => (\r\n                  //Mapping each number to an option element\r\n                  <option key={i} value={i + 1}>{i + 1}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"text-left max-h-96 overflow-y-auto pr-4\">\r\n              <p className=\"mb-2\"><strong>Allergies:</strong> {recipe.allergies}</p>\r\n              <p className=\"mb-2\"><strong>Difficulty:</strong> {recipe.difficulty}</p>\r\n              <p className=\"mb-2\"><strong>Ingredients:</strong></p>\r\n              <ul className=\"list-disc list-inside mb-4\">{formatIngredients()}</ul>\r\n              <p className=\"mb-2\"><strong>Instructions:</strong></p>\r\n              <ol className=\"list-decimal list-inside mb-4\">{formatInstructions()}</ol>\r\n            </div>\r\n            <div className=\"flex justify-center mt-4\">\r\n              <Link to={`/recipes/${recipe.name}/steps`} className=\"bg-gray-500 text-white text-center py-2 px-6 rounded-full hover:bg-gray-700 transition duration-300\">\r\n                Cook by Steps\r\n              </Link>\r\n            </div>\r\n          </div>\r\n          <div className=\"md:w-1/2 flex items-center justify-center p-8\">\r\n            <img src={images[`${recipe.name}.jpg`]} alt={recipe.name} className=\"w-full h-auto object-cover rounded-lg shadow-md\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RecipeDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}